<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/resource/main.css">
  <link rel="stylesheet" href="/resource/parts.css">
  <script src="https://cdn.bootcss.com/vue/2.6.11/vue.min.js"></script>
  <script src="https://cdn.bootcss.com/reqwest/2.0.5/reqwest.min.js"></script>
  <script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/10.1.1/highlight.min.js"></script>
  <link href="https://cdn.bootcdn.net/ajax/libs/highlight.js/10.1.1/styles/monokai-sublime.min.css" rel="stylesheet">
  <title>bW Archived</title>
</head>
  <body>
    <script>
      var mixins = []
    </script>
    <div id="canvas">
        <header class="full-wrapper bg space-xs" :class="{'hide-header': hideHeader, 'shrink-header': shrinkHeader, 'blurred': showLoader}">
  <div class="header-wrap main-wrapper row row-loose">
    <div class="col-5 text-xl bolder site-name major"><a href="/">bW Archived</a></div>
      <div class="col-5 menu pointer to-right" @click="showMenu()"><div class="text-l bold inline-block menu-btn" :class="{'menu-open': menuOpen}"><i class="fa fa-chevron-right" aria-hidden="true"></i></div></div>
      <nav class="nav-body col-8" :class="{'nav-open': menuOpen}">
        <ul class="h-list to-right sc">
          <li class="bg-sc-hover space-vh rounded ease" :class="{'nav-active': activeNav=='index' || activeNav=='category' || activeNav=='article'}"><a href="/">Home</a></li>
          <li class="bg-sc-hover space-vh rounded ease" :class="{'nav-active': activeNav=='tag'}"><a href="/tags/">Tags</a></li>
          <li class="bg-sc-hover space-vh rounded ease" :class="{'nav-active': activeNav=='archive'}"><a href="/archives/">Archive</a></li>
        </ul>
      </nav>
    </div>
</header>

        <main class="main-wrapper row row-loose row-top row-wrap space-xs" :class="{blurred: showLoader}">
          <div class="main-zone-wrapper col-75">
          
          
<section class="zone-main row row-wrap" id="zone-main">
  
  <article class="space-s full-wrapper bg-panel rounded article-animate" :style="{'animation-duration': animateArticles}">
    <div class="title-area bg-panel">
        <div class="text-xs minor">Jun. 15, 2017</div>  
        <div class="text-l bold theme-color"><a href="/%E9%9A%8F%E7%AC%94/fix-a-bug-in-mysql/">运行在MySQL下的一个bug会导致无法正常添加评论</a></div>
    </div>
    <div class="body-text between space-vh"> 
        <p>由于自第一版起就存在的一个bug，内置评论在MySQL下无法正常添加并显示。当然之前大部分同学都使用多说的服务，所以问题直到1.4.0的内置评论开启后才显露。（感谢 <a href="http://www.qq977.com/blog/">山隈</a>）</p>
<h2 id="toc-%E4%BF%AE%E5%A4%8D%E6%96%B9%E6%B3%95%EF%BC%9A">修复方法：</h2><p><strong>如果你已经导入过多说</strong>，那么数据库里很可能只导入了一条评论，且文章的评论数已被更新。<br>请先在phpMyAdmin等工具中，管理所在的database，执行：</p>

<pre><code>UPDATE `articles` SET `aComments`=0;
TRUNCATE `comments`
</code></pre>
<p>如从未导入过，请直接执行接下来的操作：</p>

<pre><code>ALTER TABLE `comments` CHANGE `comID` `comID` INT(11) NOT NULL AUTO_INCREMENT
</code></pre>
<p>修复完毕，评论功能应该可以正常使用和显示。视情况您可能需要重新导入多说的评论。</p>
<p>安装文件中的这一bug将在下次更新时修复。</p>

    </div>
    <div class="article-info between text-xs sc">
        <div class="space-vh"><i class="fa fa-folder-o" aria-hidden="true"></i> <a href="/category/%E9%9A%8F%E7%AC%94/">随笔</a></div>
        
    </div>    
  </article>
  
  <article class="space-s full-wrapper bg-panel rounded article-animate" :style="{'animation-duration': animateArticles}">
    <div class="title-area bg-panel">
        <div class="text-xs minor">Jun. 10, 2017</div>  
        <div class="text-l bold theme-color"><a href="/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/release-note-1400/">1.4.0已发布暨多说评论导入工具</a></div>
    </div>
    <div class="body-text between space-vh"> 
        <h2 id="toc-1.4.0%E5%B7%B2%E7%BB%8F%E6%8E%A8%E9%80%81%E5%88%B0GitHub">1.4.0已经推送到GitHub</h2>
<ul>
<li>新增：内置评论回归。取消已停运的多说服务设置。</li>
<li>改进：完善了翻页，现在可以快速定位到特定分页。（默认主题）</li>
<li>新增：可选择常用搜索引擎作为站内搜索使用。（默认主题）</li>
<li>改进：检测到新版时可以将升级包下载下来以便手动更新。</li>
</ul>
<h2 id="toc-%E6%8F%90%E7%A4%BA">提示</h2><p>启用内置评论后，数据库写入次数增多，如果启用了内置评论，建议关闭前台缓存以减少评论导致的数据库操作增多。 </p>
<h2 id="toc-%E5%A4%9A%E8%AF%B4%E8%AF%84%E8%AE%BA%E5%AF%BC%E5%85%A5%E5%B7%A5%E5%85%B7">多说评论导入工具</h2>
<ul>
<li>请下载文末的多说评论导入工具（import.php），将其上传至 bW 所在目录（提示：和 read.php同级目录）。</li>
<li>然后在浏览器内打开 <a href="http://xxxx/import.php">http://xxxx/import.php</a> ，xxx为bW的访问URL。</li>
<li>使用文本编辑软件打开多说导出的 json 文件 export.json，复制所有内容，粘贴到 import.php 的输入框内，并点击执行。</li>
<li>等待导入完成。<strong>务必在导入完成后删除 import.php！</strong></li>
</ul>
<h2 id="toc-%E4%B8%8B%E8%BD%BD%E5%AF%BC%E5%85%A5%E5%B7%A5%E5%85%B7">下载导入工具</h2><p><a href="http://xiaofengtest.qiniudn.com/storage/import.php">点此处下载</a></p>

    </div>
    <div class="article-info between text-xs sc">
        <div class="space-vh"><i class="fa fa-folder-o" aria-hidden="true"></i> <a href="/category/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/">快速上手</a></div>
        
        <div class="space-vh"><i class="fa fa-tag" aria-hidden="true"></i>
            <div class="h-list inline-block">
                <ul>
                    
                    <li><a href="/tags/#%E7%A8%8B%E5%BA%8F%E5%8F%91%E5%B8%83">程序发布</a></li>
                    
                    <li><a href="/tags/#%E5%A4%9A%E8%AF%B4">多说</a></li>
                    
                </ul>
            </div>
        </div>
        
    </div>    
  </article>
  
  <article class="space-s full-wrapper bg-panel rounded article-animate" :style="{'animation-duration': animateArticles}">
    <div class="title-area bg-panel">
        <div class="text-xs minor">Apr. 2, 2017</div>  
        <div class="text-l bold theme-color"><a href="/%E9%9A%8F%E7%AC%94/zai-jian-duo-shuo/">再见，多说</a></div>
    </div>
    <div class="body-text between space-vh"> 
        <h2 id="toc-2017%E5%B9%B44%E6%9C%8822%E6%97%A5%E6%9B%B4%E6%96%B0">2017年4月22日更新</h2><p>由于多说的轰然倒塌，原生评论“被迫”回归了，而且将比移除前更完善…… 而且，完整导入多说所有评论的小工具也做好了。</p>
<p>可在本篇底下测试新的评论功能。等再完善一下后台评论管理就push。</p>
<p>导出多说数据，请立即登录多说，然后直接进入 <a href="http://XXX.duoshuo.com/admin/tools/export/">http://XXX.duoshuo.com/admin/tools/export/</a> (XXX是您的多说短域名）。按照下图，选择两个复选框，可导出一个zip文件备用。</p>
<p><img src="http://xiaofengtest.qiniudn.com/storage/f4905b2c_Jietu20170422-233428.jpg?imageView2/2/w/800" alt=""></p>
<p>再次提醒，6月1日之前务必导出完毕。</p>
<p>《多说》官方发布公告，该服务将于6月1日关闭。</p>
<p>很不幸，这也是bW内置的第三方评论服务。原本的设想是通过社会化评论系统，让评论功能的实现变得简单、省心。多说是一个相当友好、易用且定制度高的服务，此番关闭，着实可惜。</p>
<p>但作为多说的用户，我仍然在无奈之余表示理解。做点惠及大众的实事不易，面对越来越严苛的环境和资金压力，坚持更不容易。</p>
<p>多说关闭后的评论解决方案肯定会有。在此提醒各位朋友，及时到多说的后台完整导出评论。待到下一版发布时，才能通过导入多说备份找回曾经的评论。</p>
<p>春暖花开，万物复苏。唯愿一切都会更好。</p>

    </div>
    <div class="article-info between text-xs sc">
        <div class="space-vh"><i class="fa fa-folder-o" aria-hidden="true"></i> <a href="/category/%E9%9A%8F%E7%AC%94/">随笔</a></div>
        
        <div class="space-vh"><i class="fa fa-tag" aria-hidden="true"></i>
            <div class="h-list inline-block">
                <ul>
                    
                    <li><a href="/tags/#%E5%A4%9A%E8%AF%B4">多说</a></li>
                    
                </ul>
            </div>
        </div>
        
    </div>    
  </article>
  
  <div class="pages space to-center full-wrapper">
    <div class="full-wrapper h-list">
      <ul class="text-s sc">
          
          <li class="page-prev"><a href="page/2/" @click.prevent="pageSwitch(2)"><i class="fa fa-chevron-left" title="Previous"></i></a></li>
          
          <li class="page-actived bold">3</li>
          
          <li class="page-next"><a href="page/4/" @click.prevent="pageSwitch(4)"><i class="fa fa-chevron-right" title="Next"></i></a></li>
          
      </ul>
    </div>
  </div>
</section>
<div id="more-articles"></div>
<script>
    mixins.push({
        data: {
            articleIdx: 0,
            articles: '',
        },
        methods: {
            pageSwitch (pn) {
                this.showLoader = true
                var self = this
                reqwest({
                    url: '/parts/'+pn+'.html',
                    type: 'html',
                    success: function (resp) {                       
                        self.articleIdx = 0
                        document.getElementById('zone-main').innerHTML=''   
                        var com=Vue.extend({
                            template: '<div>'+resp+'</div>',
                            data: function(){
                                return {
                                    animateArticles: self.animateArticles,
                                }
                            },
                            methods: {
                                pageSwitch: self.pageSwitch
                            }
                        })
                        var updatedComponent=new com().$mount()                      
                        document.getElementById('zone-main').appendChild(updatedComponent.$el)
                        self.lightsOn()              
                    },
                    error: function () {
                        self.showLoader = false
                        self.lightsOn()
                    }
                })
                let urlPattern = '/page/99999/'
                let url = urlPattern.replace(/99999/, pn)
                window.history.pushState(null, null, url)
                return false
            }
        },
        computed: {            
            animateArticles() {
                this.articleIdx += 1;
                return 0.8 * this.articleIdx + 's'
            }
        }
    })
</script>

          </div>
          
          <section class="zone-side col-2 to-left">
          <aside class="sidebar space-s">
  <div class="sbar-title bold space-xs"><i class="fa fa-folder" aria-hidden="true"></i> Categories</div>
  <div class="sbar-content sc text-s space-xs">
    <div class="v-list">
      <ul>
        
        <li>
          
          
          <a href="/category/%E4%B8%BB%E9%A2%98/">主题</a> <span class="slimmer minor text-xxs">(4)</span>
        </li>
        
        <li>
          
          
          <a href="/category/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/">快速上手</a> <span class="slimmer minor text-xxs">(4)</span>
        </li>
        
        <li>
          
          
          <a href="/category/%E9%9A%8F%E7%AC%94/">随笔</a> <span class="slimmer minor text-xxs">(10)</span>
        </li>
        
      </ul>
    </div>
  </div>
</aside>
<aside class="sidebar space-s">
  <div class="sbar-title bold space-xs"><i class="fa fa-tags" aria-hidden="true"></i> Trending</div>
  <div class="sbar-content sc text-s space-xs">
    <div class="h-list tag-list text-xs">
      <ul>
        
        <li><a href="/tags/#%E7%A8%8B%E5%BA%8F%E5%8F%91%E5%B8%83">程序发布 (3)</a></li>
        
        <li><a href="/tags/#%E4%B8%BB%E9%A2%98%E5%8F%91%E5%B8%83">主题发布 (3)</a></li>
        
        <li><a href="/tags/#%E5%A4%9A%E8%AF%B4">多说 (2)</a></li>
        
        <li><a href="/tags/#%E6%96%87%E6%A1%A3">文档 (2)</a></li>
        
        <li><a href="/tags/#%E4%B8%83%E7%89%9B">七牛 (1)</a></li>
        
        <li><a href="/tags/#%E6%95%99%E7%A8%8B">教程 (1)</a></li>
        
        <li><a href="/tags/#https">https (1)</a></li>
        
        <li><a href="/tags/#%E7%BD%91%E6%98%93%E5%8D%9A%E5%AE%A2">网易博客 (1)</a></li>
        
        <li><a href="/tags/#%E7%BD%91%E9%A1%B5">网页 (1)</a></li>
        
        <li><a href="/tags/#safari">safari (1)</a></li>
        
      </ul>
    </div>
  </div>
</aside>
<aside class="sidebar space-s">
  <div class="sbar-title bold space-xs"><i class="fa fa-external-link" aria-hidden="true"></i> Links</div>
  <div class="sbar-content sc text-s space-xs">
    <div class="v-list link-list text-xs">
      <ul>                      
        
        <li><a href="https://www.bo-blog.com/" target="_blank">Bo-blog</a></li>
        
        <li><a href="https://baidu.com" target="_blank">Baidu</a></li>
        
        <li><a href="https://google.com" target="_blank">Google</a></li>
        
      </ul>
    </div>
  </div>
</aside>
          </section>
          
        </main>

        <footer class="main-wrapper" :class="{blurred: showLoader}">
  <div class="space-s between to-center">
    <div class="space-xxs to-center">
      <div class="h-list sc text-l">
        <ul>
          
          <li class="contact-item"><a href="http://weibo.com/" target="_blank" title="Weibo"><i class="fa fa-weibo" aria-hidden="true"></i></a></li>
          
          <li class="contact-item"><a href="https://twitter.com/" target="_blank" title="Twitter"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
          
          <li class="contact-item"><a href="http://instagram.com/" target="_blank" title="Instagram"><i class="fa fa-instagram" aria-hidden="true"></i></a></li>
          
        </ul>
      </div>
    </div>
    <div class="text-xs sc">&copy; Bo-blog 2020.<br>Powered by <a href="/" target="_blank">Project Haru</a></div>
  </div>
</footer>

<div class="loader ease" :class="{'loader-on': showLoader}">
  <div class="lightbox"></div>
  <div class="loading">
    <i class="left"></i>
    <i class="middle"></i>
    <i class="right"></i>
  </div>
</div>
    </div> 
    
  <script>
  Vue.component ('place-holder', {
      template: "<div class=\"place-holder\" :style=\"{width: phWidth}\">.</div>",
      props: ['width'],
      computed: {
          phWidth() {
              return this.width + "%"
          }
      }
  })
  var app = new Vue({
      el: "#canvas",
      mixins: mixins,
      data: {
         menuOpen: false,
         windowScrolled: false,
         windowScrollUp: false,
         showLoader: false,
         activeNav: 'index',
      },
      methods: {
          showMenu () {
              this.menuOpen = !this.menuOpen;
          },
          windowScroller () {
              var scrolled = document.documentElement.scrollTop || document.body.scrollTop
              this.windowScrollUp = scrolled < this.windowScrolled
              this.windowScrolled = scrolled
          },
          scrollToTop () {
              window.scrollTo({ 
                  top: 0, 
                  behavior: "smooth" 
              })
          },
          lightsOn () {
              var self = this
              setTimeout(function() {
                  self.scrollToTop ()
                  self.showLoader = false
              }, 600)
          }
      },
      mounted () { 
          window.addEventListener('scroll', this.windowScroller) 
          if (location.hash && location.hash!=="#") {
            window.setTimeout(function(){
                let dest = location.hash.substring(1)
                document.getElementById(dest).scrollIntoView()                
            }, 500)  
        }
      },
      computed: {
          hideHeader() {
              return this.windowScrolled > 30
          },
          shrinkHeader() {
              return this.windowScrolled > 30 && this.windowScrollUp
          },                
      }
  })
</script>  
  <script>
    document.addEventListener('DOMContentLoaded', (event) => {
      document.querySelectorAll('pre code').forEach((block) => {
        hljs.highlightBlock(block);
      });
    });
  </script>
  </body>
</html>